var suite = require('./_utils').suite

module.exports = suite(function (t) {
  t.test('* - wildcard', function (t) {
    t.testPerSeparator('Matches 0 or more non-separator characters', function (t, sep) {
      t.match('*')('')
      t.match('*')('o')
      t.match('*')('one')
      t.match('one*')('one')
      t.match('one*')('onet')
      t.match('one*')('onetwo')
      t.match('one*')('one_two')
      t.dontMatch('one*')('on')
      t.dontMatch('one*')('ont')
      t.dontMatch('one*')('onte')
      t.match('*/*')('one/')
      t.match('*/*')('one/t')
      t.match('*/*')('one/two')
      t.match('*/*/*')('one/two/three')
      t.match('*/*/*')('//')
      t.match('one/*')('one/two')
      t.match('one/*')('one/*')
      t.match('one/*')('one/**')
      t.match('one/*')('one/***')
      t.match('one/*')('one/')
      t.match('one/*')('one/t')
      t.match('one/*/three')('one/two/three')
      t.match('one/*/three/')('one/two/three/')
      t.match('one/*/three/*')('one/two/three/')
      t.match('one/*/three/*')('one/two/three/four')
      t.match('*two')('two')
      t.match('*two')('onetwo')
      t.match('one*three')('onetwothree')
      t.match('one*three')('onethree')
      t.match('one/*three')('one/twothree')
      t.match('one/two*')('one/twothree')
      t.match('*/')('/')
      t.match('*/one')('/one')
      t.match('*n*')('one')
      t.match('*n*')('oonee')
      t.match('*n*')('n')
      t.match('o*n*e')('one')
      t.match('o*n*e')('oone')
      t.match('o*n*e')('onne')
      t.match('o*n*e')('oonne')
      t.match('*ne/*o')('ne/o')
      t.match('*ne/*o')('one/o')
      t.match('*ne/*o')('ne/two')
      t.match('*ne/*o')('one/two')
      t.match('*/*o')('/o')
      t.match('*/*o')('/two')
      t.match('*/*o')('one/two')
      t.dontMatch('one/*')('')
      t.dontMatch('one/*')('/')
      t.dontMatch('one/*')('//')
      t.dontMatch('one/*')('two/three')
      t.dontMatch('*/one')('')
      t.dontMatch('*/one')('/')
      t.dontMatch('*/one')('//')
      t.dontMatch('*/one')('one/two/three')
      t.dontMatch('*/one')('one/two')
      t.dontMatch('*n*')('')
      t.dontMatch('*n*')('/')
      t.dontMatch('o*n*e')(' one ')
      t.dontMatch('*/*o')('/o/')
      t.dontMatch('o*n*e')('/one')
      t.dontMatch('one/*')('one')
      t.dontMatch('one/*')('/one')
      t.dontMatch('*/one')('one')
      t.dontMatch('*/one')('one/')

      if (sep) {
        t.dontMatch('*')('/')
        t.dontMatch('*')('//')
        t.dontMatch('*')('one/two')
        t.dontMatch('*')('one/')
        t.dontMatch('*')('/one')
        t.dontMatch('one/*')('one/two/three')
        t.dontMatch('*two')('one/two')
        t.dontMatch('*n*')('n/')
        t.dontMatch('*n*')('one/')
        t.dontMatch('*n*')('/n')
        t.dontMatch('*n*')('/n/')
        t.dontMatch('o*n*e')('one/')
        t.dontMatch('o*n*e')('o/ne')
        t.dontMatch('o*n*e')('on/e')
        t.dontMatch('o*n*e')('o/n/e')
        t.dontMatch('*ne/*o')('/ne/o')
        t.dontMatch('*/*o')('//o')
      }
    })

    t.testPerSeparator('When escaped, treated literally', function (t) {
      // TODO: add cases with separators
      t.match('\\*')('*')
      t.dontMatch('\\*')('')
      t.dontMatch('\\*')('\\*')
      t.dontMatch('\\*')('o\\*')
      t.dontMatch('\\*')('\\*e')
      t.dontMatch('\\*')('\\**')
      t.dontMatch('\\*')('o')
      t.dontMatch('\\*')('one')
      t.dontMatch('\\*')('\\o')
      t.dontMatch('\\*')('\\')
      t.match('one\\*')('one*')
      t.dontMatch('one\\*')('')
      t.dontMatch('one\\*')('one')
      t.dontMatch('one\\*')('one\\')
      t.dontMatch('one\\*')('one\\*')
      t.dontMatch('one\\*')('one*t')
      t.dontMatch('one\\*')('one\\*two')
      t.dontMatch('one\\*')('one\\**')
      t.dontMatch('one\\*')('\\*')
      t.dontMatch('one\\*')('*\\*')
      t.dontMatch('one\\*')('\\')
      t.match('\\*one')('*one')
      t.dontMatch('\\*one')('')
      t.dontMatch('\\*one')('one')
      t.dontMatch('\\*one')('\\one')
      t.dontMatch('\\*one')('\\*one')
      t.dontMatch('\\*one')('t*one')
      t.dontMatch('\\*one')('two\\*one')
      t.dontMatch('\\*one')('\\*')
      t.dontMatch('\\*one')('\\**')
      t.dontMatch('\\*one')('\\')
      t.match('o\\*e')('o*e')
      t.dontMatch('o\\*e')('')
      t.dontMatch('o\\*e')('one')
      t.dontMatch('o\\*e')('o\\e')
      t.dontMatch('o\\*e')('o\\*e')
      t.dontMatch('o\\*e')('o*te')
      t.dontMatch('o\\*e')('\\*')
      t.dontMatch('o\\*e')('\\**')
      t.dontMatch('o\\*e')('\\')
    })
  })
})
